{# Dime/TimetrackerFrontednBundle/Resources/views/Activities/edit.html.twig #}
<div id="activity-form" data-prefix="activity-">
    <header class="page-header">
        <h1>Activity</h1>
    </header>
    <form class="form-horizontal">
        <fieldset>
            <legend>{% trans %}Description{% endtrans %}</legend>
            <textarea id="activity-description" class="activity-description input-block-level" rows="3"></textarea>
        </fieldset>
        <fieldset>
            <legend>{% trans %}Relations{% endtrans %}</legend>
            <div class="control-group">
                <label for="activity-customer" class="control-label">Customer:</label>
                <div class="controls">
                    <select id="activity-customer" class="activity-customer input-block-level"></select>
                    <span class="help-inline"></span>
                </div>
            </div>
            <div class="control-group">
                <label for="activity-project" class="control-label">Project:</label>
                <div class="controls">
                    <select id="activity-project" class="activity-project input-block-level"></select>
                    <span class="help-inline"></span>
                </div>
            </div>
            <div class="control-group">
                <label for="activity-service" class="control-label">Service:</label>
                <div class="controls">
                    <select id="activity-service" class="activity-service input-block-level"></select>
                    <span class="help-inline"></span>
                </div>
            </div>
            <div class="control-group">
                <label for="activity-tags" class="control-label">Tags:</label>
                <div class="controls">
                    <input type="text" id="activity-tags" class="activity-tags input-block-level"/>
                    <span class="help-inline"></span>
                </div>
            </div>
        </fieldset>
        <fieldset id="tab-prices" class="tab-pane">
            <legend>{% trans %}Prices{% endtrans %}</legend>
            <div class="control-group">
                <label for="activity-rate" class="control-label">Rate:</label>
                <div class="controls">
                    <input id="activity-rate" class="activity-rate input-block-level" type="number" value="">
                    <span class="help-inline"></span>
                </div>
            </div>
            <div class="control-group">
                <label for="activity-rateReference" class="control-label">Rate reference:</label>
                <div class="controls">
                    <input id="activity-rateReference" class="activity-rateReference input-block-level" type="text"
                           value="">
                    <span class="help-inline"></span>
                </div>
            </div>
        </fieldset>
        <footer class="form-actions">
            <div class="pull-right">
                <button class="cancel btn">Cancel</button>
                <button type="submit" class="save btn btn-primary">Save</button>
            </div>
        </footer>
    </form>
</div>

<script type="text/template" id="tpl-timeslices">
    <div class="pull-right">
        <a href="#activity/<%- data.id %>/timeslice/add" class="btn" title="Add timeslice"><i class="icon-plus"></i>timeslice</a>
    </div>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Duration</th>
            <th>Start</th>
            <th>Stop</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody id="timeslices">
        <tr>
            <td class="loading" colspan="5"></td>
        </tr>
        </tbody>
    </table>
</script>

<script type="text/template" id="tpl-timeslice-empty">
    <td colspan="5">No time tracked.</td>
</script>

<script type="text/template" id="tpl-timeslice-item">
    <td><%- model.formatDuration() %></td>
    <td><%= _.escape(data.startedAt || '') %></td>
    <td><%= _.escape(data.stoppedAt || '') %></td>
    <td>
        <a class="edit" href="#timeslice/<%- data.id %>/edit"><i class="icon-pencil"></i> Edit</a>
        <a class="delete" href="#delete"><i class="icon-remove"></i> Delete</a>
    </td>
</script>
